(this["webpackJsonpreact-glitch-crud"]=this["webpackJsonpreact-glitch-crud"]||[]).push([[0],{28:function(t,e,i){},48:function(t,e,i){"use strict";i.r(e);var n=i(1),c=i(21),a=i.n(c),s=i(5),r=i(3),l=i(22),d=(i(28),i(9)),o=i.n(d),u=i(0);function j(t){var e=t.todo,i=t.idx,n=t.onEditClick,c=t.onDeleteClick;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:++i}),Object(u.jsx)("td",{children:e.input1}),Object(u.jsx)("td",{children:e.input2}),Object(u.jsx)("td",{children:e.input3}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{id:e._id,className:"title-glitch",onClick:function(t){return n(t)},children:"Redaguoti"})}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{id:e._id,className:"title-glitch",onClick:function(t){return c(t)},children:"Trinti"})})]},e._id)})}var b=function(t){var e=Object(n.useState)("titleAsc"),i=Object(r.a)(e,2),c=i[0],a=i[1];return Object(u.jsx)("div",{className:"sorter",children:Object(u.jsxs)("select",{defaultValue:"",onChange:function(e){a(e.target.value),t.doSort(c)},children:[Object(u.jsx)("option",{value:"",children:"R\u016b\u0161iuoti pagal: "}),Object(u.jsx)("option",{value:"kainaAsc",children:"Kaina [1-100]"}),Object(u.jsx)("option",{value:"kainaDesc",children:"Kaina [100-1]"}),Object(u.jsx)("option",{value:"pavAsc",children:"Pavadinimas [A-Z]"}),Object(u.jsx)("option",{value:"pavDesc",children:"Pavadinimas [Z-A]"})]})})};function p(){var t=Object(n.useState)([]),e=Object(r.a)(t,2),i=e[0],c=e[1],a=Object(n.useRef)(!1),d=Object(n.useState)({}),p=Object(r.a)(d,2),h=p[0],O=p[1],m=Object(n.useState)(!1),x=Object(r.a)(m,2),f=x[0],v=x[1],g=Object(n.useState)({}),k=Object(r.a)(g,2),y=k[0],N=k[1],E=Object(l.a)(),w=E.register,S=E.handleSubmit,A=E.watch,F=E.formState.errors,_=E.reset,C=null!==""?"":"http://127.0.0.1:8787",I=function(){return o.a.get("".concat(C,"/view-items")).then((function(t){c(t.data)}))};Object(n.useEffect)((function(){console.log("currently editing (currentTodo): ",y)}),[y]),Object(n.useEffect)((function(){var t;a.current&&(t=h,o()({method:"POST",url:"".concat(C,"/post-item"),data:t}).then())?(console.log("second & later App run"),console.log("latest_submit [logged from useEffect]: ",h),I()):(console.log("very first App run"),a.current=!a.current,I(),window.localStorage.setItem("is_busy",JSON.stringify(!0)))}),[h]);var K=function(t){console.log(t),O(Object(s.a)({},t)),I(),_(),window.localStorage.setItem("is_busy",JSON.stringify(!0))};function T(t){v(!0),i.filter((function(e){return e._id==t.currentTarget.id&&N(e)}))}var V=function(t,e){t.preventDefault();var n=A(["inputEdit1","inputEdit2","inputEdit3"]),a=Object(r.a)(n,3),l=a[0],d=a[1],u=a[2],j=Object(s.a)({},y)._id;N(Object(s.a)(Object(s.a)({},y),{},{input1:l,input2:d,input3:u}));for(var b=i.slice(),p=0;p<b.length;p++)b[p]._id==j&&(b[p]={copyId:j,input1:l,input2:d,input3:u},o.a.get("".concat(C,"/replace-one-by-id/").concat(j,"/input1/").concat(l,"/input2/").concat(d,"/input3/").concat(u)));c(b),v(!1),_(),I(),I()};function D(t){for(var e=i.slice(),n=0;n<e.length;n++)if(e[n]._id==t.currentTarget.id){console.log("deleted object whose id was ".concat(t.currentTarget.id," :"),e.splice(n,1)),o.a.get("".concat(C,"/delete-one-by-id/").concat(t.currentTarget.id));break}c(e)}return Object(u.jsx)("div",{className:"grid-wrapper",children:Object(u.jsx)("div",{className:"section",children:Object(u.jsx)("div",{className:"article",children:f?Object(u.jsxs)(u.Fragment,{children:["  ",Object(u.jsxs)("div",{id:"edit-ui",children:[Object(u.jsx)("div",{style:{margin:"10px",textAlign:"center"},className:"heading",children:Object(u.jsx)("h1",{children:"Knygos apra\u0161as:"})}),Object(u.jsxs)("form",{id:"user-form",onSubmit:function(t){S(V(t))},children:[Object(u.jsx)("label",{htmlFor:"inputEdit1",children:"Kaina (\u20ac):"}),Object(u.jsx)("input",Object(s.a)({type:"number",className:"form-control",id:"inputEdit1",defaultValue:y.input1,min:"1"},w("inputEdit1",{required:!0,pattern:/^[0-9.]+$/i}))),F.inputEdit1&&Object(u.jsx)("span",{style:{color:"red"},children:"Laukelis b\u016btinas ir tik skai\u010diai"}),Object(u.jsx)("label",{htmlFor:"inputEdit2",children:"Knygos pavadinimas:"}),Object(u.jsx)("input",Object(s.a)({className:"form-control",id:"inputEdit2",defaultValue:y.input2},w("inputEdit2",{required:!0,pattern:/[A-Za-z_]{1,}/i}))),F.inputEdit2&&Object(u.jsx)("span",{style:{color:"red"},children:"Laukelis b\u016btinas ir tik raid\u0117s"}),Object(u.jsx)("label",{htmlFor:"inputEdit3",children:"I\u0161parduodama?"}),Object(u.jsx)("select",Object(s.a)(Object(s.a)({id:"inputEdit3",name:"inputEdit3",className:"custom-select",defaultValue:y.input3},w("inputEdit3")),{},{children:Object(u.jsxs)("optgroup",{label:"Select from: ",children:[Object(u.jsx)("option",{value:"taikoma",children:"I\u0161pardavimas"}),Object(u.jsx)("option",{value:"netaikoma",children:"N\u0117ra i\u0161pardavimo"})]})})),Object(u.jsx)("button",{className:"title-windows95",type:"submit",onClick:function(t){S(V(t))},children:"Atnaujinti"}),Object(u.jsx)("button",{className:"title-windows95",onClick:function(){return v(!1)},children:"At\u0161aukti"})]})]})]}):Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsxs)("div",{id:"add-ui",children:[Object(u.jsxs)("header",{id:"add-ui--header",children:[Object(u.jsx)("div",{className:"heading",children:Object(u.jsx)("h1",{children:"Test deployment , please no phising !"})}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"heading",children:Object(u.jsx)("h1",{children:"Prid\u0117k knyg\u0105:"})}),Object(u.jsx)(b,{doSort:function(t){console.log(t);var e=i.slice();"kainaDesc"===t?(e.sort((function(t,e){return t.input1-e.input1})),c(e)):"kainaAsc"===t?(e.sort((function(t,e){return e.input1-t.input1})),c(e)):"pavDesc"===t?(e.sort((function(t,e){return t.input2>e.input2?1:t.input2<e.input2?-1:0})),c(e)):"pavAsc"===t&&(e.sort((function(t,e){return t.input2>e.input2?-1:t.input2<e.input2?1:0})),c(e))}})]}),Object(u.jsxs)("form",{id:"user-form",onSubmit:function(){S(K())},children:[Object(u.jsx)("label",{htmlFor:"input1",children:"Kaina (\u20ac):"}),Object(u.jsx)("input",Object(s.a)({type:"number",className:"form-control",id:"input1",defaultValue:"1",min:"1"},w("input1",{required:!0,pattern:/^[0-9.]+$/i}))),F.input1&&Object(u.jsx)("span",{style:{color:"red"},children:"Laukelis b\u016btinas ir tik skai\u010diai"}),Object(u.jsx)("label",{htmlFor:"input2",children:"Knygos pavadinimas:"}),Object(u.jsx)("input",Object(s.a)({className:"form-control",id:"input2",defaultValue:"pavadinimas"},w("input2",{required:!0,pattern:/[A-Za-z_]{1,}/i}))),F.input2&&Object(u.jsx)("span",{style:{color:"red"},children:"Laukelis b\u016btinas ir tik raidin\u0117s reik\u0161m\u0117s"}),Object(u.jsx)("label",{htmlFor:"input3",children:"I\u0161parduodama?"}),Object(u.jsx)("select",Object(s.a)(Object(s.a)({id:"input3",name:"input3",className:"custom-select",defaultValue:"N\u0117ra i\u0161pardavimo"},w("input3")),{},{children:Object(u.jsxs)("optgroup",{label:"B\u016bsena: ",children:[Object(u.jsx)("option",{value:"taikoma",children:"I\u0161pardavimas"}),Object(u.jsx)("option",{value:"netaikoma",children:"N\u0117ra i\u0161pardavimo"})]})})),Object(u.jsx)("input",{type:"submit",value:"Prid\u0117ti",className:"title-hacker",onClick:S(K)})]})]}),Object(u.jsxs)("div",{id:"view-ui",children:[Object(u.jsx)("h3",{style:{margin:"10px",visibility:0==i.length?"hidden":"visible"},children:"Visos knygos:"}),Object(u.jsxs)("table",{id:"view-ui--data",children:[Object(u.jsxs)("tr",{style:0==i.length?{visibility:"hidden"}:{visibility:"visible"},children:[Object(u.jsx)("th",{children:"ID"}),Object(u.jsx)("th",{children:"Kaina"}),Object(u.jsx)("th",{children:"Knygos pavadinimas"}),Object(u.jsx)("th",{children:"Taikoma nuolaida"}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{})]}),i.map((function(t,e,i){return Object(u.jsx)(j,{todo:t,idx:e,onEditClick:T,onDeleteClick:D})}))]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h4",{children:["Bendras knyg\u0173 kiekis (vienetais): ",i.length,"\xa0"]}),Object(u.jsxs)("h4",{children:["Vidutin\u0117 vienos knygos kaina: ",0==i.length?0:(i.reduce((function(t,e){return t+(""==parseFloat(e.input1)?0:parseFloat(e.input1))}),0)/i.length).toFixed(2),"\xa0\u20ac"]})]})]})})})})}a.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.2b74b9fe.chunk.js.map